<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Web Aura Index</title>
    <style>
        body {
            width: 380px;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            font-size: 14px;
            color: #333;
            background-color: #f9f9f9;
        }
        .container {
            padding: 10px;
        }
        .tabs {
            display: flex;
            border-bottom: 1px solid #ddd;
            margin-bottom: 10px;
        }
        .tab-button {
            padding: 10px 15px;
            cursor: pointer;
            border: none;
            background-color: transparent;
            font-size: 14px;
            border-bottom: 2px solid transparent;
        }
        .tab-button.active {
            border-bottom: 2px solid #007bff;
            font-weight: bold;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        .setting {
            margin-bottom: 15px;
        }
        .setting label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        .setting input[type="text"], .setting textarea {
            width: 95%;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        .setting textarea {
            resize: vertical;
            min-height: 40px;
        }
        .setting input[type="range"] {
            width: 100%;
        }
        .switch {
            position: relative;
            display: inline-block;
            width: 44px;
            height: 24px;
        }
        .switch input { display: none; }
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0; left: 0; right: 0; bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }
        .slider:before {
            position: absolute;
            content: "";
            height: 16px; width: 16px;
            left: 4px; bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        input:checked + .slider { background-color: #2196F3; }
        input:checked + .slider:before { transform: translateX(20px); }
    </style>
</head>
<body>
    <div class="container">
        <div class="tabs">
            <button class="tab-button" data-tab="analysis">__MSG_tabAnalysis__</button>
            <button class="tab-button" data-tab="settings">__MSG_tabSettings__</button>
            <button class="tab-button active" data-tab="debug">__MSG_tabDebug__</button>
        </div>

        <div id="analysis" class="tab-content">
            <p>Zde se brzy zobrazí vizuální analýza aury...</p>
            <!-- Zde bude dynamicky generovaná hvězda a kruh -->
        </div>

        <div id="settings" class="tab-content">
            <div class="setting">
                <label for="interests">__MSG_settingsInterestsLabel__</label>
                <textarea id="interests" rows="2"></textarea>
            </div>
            <div class="setting">
                <label for="exclusions">__MSG_settingsExclusionsLabel__</label>
                <textarea id="exclusions" rows="2"></textarea>
            </div>
            <div class="setting">
                <label for="auraIntensity">__MSG_settingsAuraIntensityLabel__</label>
                <input type="range" id="auraIntensity" min="10" max="100" value="75">
            </div>
            <div class="setting">
                <label>__MSG_settingsPreviewMethodLabel__</label>
                <div class="radio-group">
                    <input type="radio" id="previewOnHover" name="previewMethod" value="hover" checked> <label for="previewOnHover">__MSG_settingsPreviewOnHover__</label><br>
                    <input type="radio" id="previewOnContext" name="previewMethod" value="context"> <label for="previewOnContext">__MSG_settingsPreviewOnContext__</label><br>
                    <input type="radio" id="previewOff" name="previewMethod" value="off"> <label for="previewOff">__MSG_settingsPreviewOff__</label>
                </div>
            </div>
            <div class="setting">
                <label for="debugLog">__MSG_settingsDebugLabel__</label>
                <label class="switch">
                    <input type="checkbox" id="debugLog">
                    <span class="slider"></span>
                </label>
            </div>
             <div class="setting">
                <button id="saveSettings">__MSG_settingsSaveButton__</button>
            </div>
            <div class="setting" id="color-legend">
                <a href="#" id="toggle-legend">__MSG_settingsShowLegend__</a>
            </div>
        </div>

        <div id="debug" class="tab-content active">
            <div id="debug-output" style="height: 250px; overflow-y: auto; border: 1px solid #ccc; padding: 5px; font-family: monospace; font-size: 12px; background: #fff;">
                <p>Popup otevřen...</p>
            </div>
        </div>
    </div>
    
    <script src="popup.js"></script>
</body>
</html>